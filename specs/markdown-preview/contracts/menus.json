{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$comment": "VS Code Extension Menus Contract for Markdown Reader",
  "description": "Defines menu contributions for the Markdown Reader extension including editor title bar and context menus.",
  "submenus": [
    {
      "id": "markdownReader.formatSubmenu",
      "label": "Format"
    },
    {
      "id": "markdownReader.headingSubmenu",
      "label": "Heading"
    },
    {
      "id": "markdownReader.codeSubmenu",
      "label": "Code"
    }
  ],
  "menus": {
    "editor/title": {
      "description": "Title bar buttons visible in edit mode",
      "items": [
        {
          "command": "markdownReader.exitEditMode",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@1",
          "description": "Done button to exit edit mode"
        },
        {
          "command": "markdownReader.formatBold",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@2"
        },
        {
          "command": "markdownReader.formatItalic",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@3"
        },
        {
          "command": "markdownReader.formatStrikethrough",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@4"
        },
        {
          "command": "markdownReader.formatBulletList",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@5"
        },
        {
          "command": "markdownReader.formatNumberedList",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@6"
        },
        {
          "command": "markdownReader.formatInlineCode",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@7"
        },
        {
          "command": "markdownReader.formatLink",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "navigation@8"
        }
      ]
    },
    "editor/context": {
      "description": "Right-click context menu in edit mode",
      "items": [
        {
          "submenu": "markdownReader.formatSubmenu",
          "when": "markdownReader.editMode && resourceLangId == markdown",
          "group": "1_modification"
        }
      ]
    },
    "markdownReader.formatSubmenu": {
      "description": "Format submenu items",
      "items": [
        {
          "command": "markdownReader.formatBold",
          "group": "1_text@1"
        },
        {
          "command": "markdownReader.formatItalic",
          "group": "1_text@2"
        },
        {
          "command": "markdownReader.formatStrikethrough",
          "group": "1_text@3"
        },
        {
          "submenu": "markdownReader.headingSubmenu",
          "group": "2_structure@1"
        },
        {
          "command": "markdownReader.formatBulletList",
          "group": "2_structure@2"
        },
        {
          "command": "markdownReader.formatNumberedList",
          "group": "2_structure@3"
        },
        {
          "submenu": "markdownReader.codeSubmenu",
          "group": "3_code@1"
        },
        {
          "command": "markdownReader.formatLink",
          "group": "4_link@1"
        }
      ]
    },
    "markdownReader.headingSubmenu": {
      "description": "Heading level submenu",
      "items": [
        {
          "command": "markdownReader.formatHeading1",
          "group": "1_headings@1"
        },
        {
          "command": "markdownReader.formatHeading2",
          "group": "1_headings@2"
        },
        {
          "command": "markdownReader.formatHeading3",
          "group": "1_headings@3"
        }
      ]
    },
    "markdownReader.codeSubmenu": {
      "description": "Code formatting submenu",
      "items": [
        {
          "command": "markdownReader.formatInlineCode",
          "group": "1_code@1"
        },
        {
          "command": "markdownReader.formatCodeBlock",
          "group": "1_code@2"
        }
      ]
    },
    "commandPalette": {
      "description": "Command palette visibility",
      "items": [
        {
          "command": "markdownReader.enterEditMode",
          "when": "resourceLangId == markdown && !markdownReader.editMode"
        },
        {
          "command": "markdownReader.exitEditMode",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.toggleEditMode",
          "when": "resourceLangId == markdown"
        },
        {
          "command": "markdownReader.formatBold",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatItalic",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatStrikethrough",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatBulletList",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatNumberedList",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatInlineCode",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatCodeBlock",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatLink",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatHeading1",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatHeading2",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        },
        {
          "command": "markdownReader.formatHeading3",
          "when": "resourceLangId == markdown && markdownReader.editMode"
        }
      ]
    }
  }
}
